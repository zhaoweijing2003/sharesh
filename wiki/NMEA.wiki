#NMEA0183协议概览

NMEA是National Marine Electronics Association（美国国家海事电子协会）的缩写。该协会是一家专门从事海洋电子设备方面研究的民间机构，它制定了关于GPS（全球定位系统）电子设备之间的通信接口和协议的NMEA标准。

NMEA-0183协议是目前GPS接收机上使用最广泛的协议，大多数常见的GPS接收机、GPS数据处理软件、导航软件都遵守或者至少兼容这个协议。

= 一、电器特性 =

Baud Rate：4800bps

Data Bits：8(d7=0)

Parity：None

Stop Bits：One(or more)

= 二、协议 =

== 1.语法格式 ==

NMEA 0183的信息格式一般如下所示：

$aaaaa,df1,df2,....[CR][LF]

所有的信息由$开始，以换行结束，紧跟着$后的五个字符解释了信息的基本类型，多个参数之间用逗号隔开。

== 2.协议类型 ==

NMEA 0183中有以下三种基本的协议类型：

a)信息源

b)查询

c)属性

=== 1)信息源 ===

标准格式为：

$ttsss,df1,df2,....[CR][LF]

在紧随$后的两个字符用来识别作为信息内容识别码的后3个字符，信息识别码定义了保留的数据区，在NMEA 0183标准下，每个类型的数据区的信息内容是符合标准的。

例如：    $HCHDM,238,M[CR][LF]

标明“HC”说明信息源作为一个磁性的罗盘，“HDM” 指明以下是磁性的船首向航向，238是船首向航向的值，M指明船首向航向的值是磁性的。

=== 2)查询 ===

标准格式为：

$ttllQ,sss,[CR][LF]

头两个字符做为请求者的信息源的识别码，后两个字符作为被查询的设备的信息识别，最后一个字符说明这是一个查询信息。紧跟着的字段（sss）包含了三个字的被查询内容的记忆信息。

查询意味着接受端需要从信息源那里得到一个有规律的内容，例如，我们可以发一个信息给GPS接受器请求传送一个“DISTANCE-TO-WAYPOINT”的信息，得到响应后，GPS接受器会发送请求的内容，直到接到别的请求。

例如：  $CCGPQ,GGA[CR][LF]

说明“CC”这个设备(计算机)正从 “GP”这个设备(GPS)查询GGA的内容。GPS将每隔一秒传送这个内容，直到有别的查询请求。

=== 3)属性 ===

 这对厂商来说是一种使用没有在标准下预定义的特殊内容的方法。它通常的格式为：

$PmmmA,df1,df2,...,[CR][LF]

P说明是属性内容，mmm定义为厂商信息代码，A(A-Z)标明信息类型。

 

NMEA-0183协议定义的语句非常多，但是常用的或者说兼容性最广的语句只有$GPGGA、$GPGSA、$GPGSV、$GPRMC、$GPVTG、$GPGLL等。

== 3.协议语法 ==

=== 1)Global Positioning System Fix Data（GGA）GPS定位信息 ===
{{{
$GPGGA,<1>,<2>,<3>,<4>,<5>,<6>,<7>,<8>,<9>,M,<10>,M,<11>,<12>*hh<CR><LF>

<1> UTC时间，hhmmss（时分秒）格式

<2> 纬度ddmm.mmmm（度分）格式（前面的0也将被传输）

<3> 纬度半球N（北半球）或S（南半球）

<4> 经度dddmm.mmmm（度分）格式（前面的0也将被传输）

<5> 经度半球E（东经）或W（西经）

<6> GPS状态：0=未定位，1=非差分定位，2=差分定位，6=正在估算

<7> 正在使用解算位置的卫星数量（00~12）（前面的0也将被传输）

<8> HDOP水平精度因子（0.5~99.9）

<9> 海拔高度（-9999.9~99999.9）

<10> 地球椭球面相对大地水准面的高度

<11> 差分时间（从最近一次接收到差分信号开始的秒数，如果不是差分定位将为空

<12> 差分站ID号0000~1023（前面的0也将被传输，如果不是差分定位将为空）
}}}
=== 2)GPS DOP and Active Satellites（GSA）当前卫星信息 ===
{{{
$GPGSA,<1>,<2>,<3>,<3>,<3>,<3>,<3>,<3>,<3>,<3>,<3>,<3>,<3>,<3>,<4>,<5>,<6>*hh<CR><LF>

<1> 模式，M=手动，A=自动

<2> 定位类型，1=没有定位，2=2D定位，3=3D定位

<3> PRN码（伪随机噪声码），正在用于解算位置的卫星号（01~32，前面的0也将被传输）。

<4> PDOP位置精度因子（0.5~99.9）

<5> HDOP水平精度因子（0.5~99.9）

<6> VDOP垂直精度因子（0.5~99.9）
}}}
=== 3)GPS Satellites in View（GSV）可见卫星信息 ===
{{{
$GPGSV,<1>,<2>,<3>,<4>,<5>,<6>,<7>,…<4>,<5>,<6>,<7>*hh<CR><LF>

<1> GSV语句的总数

<2> 本句GSV的编号

<3> 可见卫星的总数（00~12，前面的0也将被传输）

<4> PRN码（伪随机噪声码）（01~32，前面的0也将被传输）

<5> 卫星仰角（00~90度，前面的0也将被传输）

<6> 卫星方位角（000~359度，前面的0也将被传输）

<7> 信噪比（00~99dB，没有跟踪到卫星时为空，前面的0也将被传输）

注：<4>,<5>,<6>,<7>信息将按照每颗卫星进行循环显示，每条GSV语句最多可以显示4颗卫星的信息。其他卫星信息将在下一序列的NMEA0183语句中输出。
}}}
=== 4)Recommended Minimum Specific GPS/TRANSIT Data（RMC）推荐定位信息 ===
{{{
$GPRMC,<1>,<2>,<3>,<4>,<5>,<6>,<7>,<8>,<9>,<10>,<11>,<12>*hh<CR><LF>

<1> UTC时间，hhmmss（时分秒）格式

<2> 定位状态，A=有效定位，V=无效定位

<3> 纬度ddmm.mmmm（度分）格式（前面的0也将被传输）

<4> 纬度半球N（北半球）或S（南半球）

<5> 经度dddmm.mmmm（度分）格式（前面的0也将被传输）

<6> 经度半球E（东经）或W（西经）

<7> 地面速率（000.0~999.9节，前面的0也将被传输）

<8> 地面航向（000.0~359.9度，以真北为参考基准，前面的0也将被传输）

<9> UTC日期，ddmmyy（日月年）格式

<10> 磁偏角（000.0~180.0度，前面的0也将被传输）

<11> 磁偏角方向，E（东）或W（西）

<12> 模式指示（仅NMEA0183 3.00版本输出，A=自主定位，D=差分，E=估算，N=数据无效）
}}}
=== 5)Track Made Good and Ground Speed（VTG）地面速度信息 ===
{{{
$GPVTG,<1>,T,<2>,M,<3>,N,<4>,K,<5>*hh<CR><LF>

<1> 以真北为参考基准的地面航向（000~359度，前面的0也将被传输）

<2> 以磁北为参考基准的地面航向（000~359度，前面的0也将被传输）

<3> 地面速率（000.0~999.9节，前面的0也将被传输）

<4> 地面速率（0000.0~1851.8公里/小时，前面的0也将被传输）

<5> 模式指示（仅NMEA0183 3.00版本输出，A=自主定位，D=差分，E=估算，N=数据无效）
}}}
=== 6)Geographic Position（GLL）定位地理信息 ===
{{{
$GPGLL,<1>,<2>,<3>,<4>,<5>,<6>,<7>*hh<CR><LF>

<1> 纬度ddmm.mmmm（度分）格式（前面的0也将被传输）

<2> 纬度半球N（北半球）或S（南半球）

<3> 经度dddmm.mmmm（度分）格式（前面的0也将被传输）

<4> 经度半球E（东经）或W（西经）

<5> UTC时间，hhmmss（时分秒）格式

<6> 定位状态，A=有效定位，V=无效定位

<7> 模式指示（仅NMEA0183 3.00版本输出，A=自主定位，D=差分，E=估算，N=数据无效）
}}}